const gachaPool = [

            { 
                "name": "Skeletal Scythe", 
                "grade": "epic", 
                "statBoost": { 
                    "strength": 10, 
                    "intelligence": 5, 
                    "ability": 0 
                }, 
                "imageUrl": "https://media.discordapp.net/attachments/1302888987987283998/1302889205520928769/IMG_9064.jpg?ex=6729c1a1&is=67287021&hm=0a0139b581d0ca04e9defc8ee558220f5c1344db19c09a0fc21fe8e1061604f5&=&format=webp", 
                "rate": 0.1 
            },
            { 
                "name": "Witch's Broomstick", 
                "grade": "ultra rare", 
                "statBoost": { 
                    "strength": 4, 
                    "intelligence": 8, 
                    "ability": 0 
                }, 
                "imageUrl": "https://media.discordapp.net/attachments/1302888987987283998/1302889217084620830/IMG_9065.jpg?ex=6729c1a3&is=67287023&hm=a8a47c58ceec2b1855369fb818edc3e5393b82d7adbbb01544b0e9f85a60f1a8&=&format=webp&width=366&height=350", 
                "rate": 0.4 
            },
            { 
                "name": "Pumpkin Launcher", 
                "grade": "epic", 
                "statBoost": { 
                    "strength": 12, 
                    "intelligence": 3, 
                    "ability": 0 
                }, 
                "imageUrl": "https://media.discordapp.net/attachments/1302888987987283998/1302889232175464468/IMG_9066.jpg?ex=6729c1a7&is=67287027&hm=c3e8a5d6bac9c1283404af88e94316e0c9b8e7abbbc2bc6fcc28d40a00ee6e7d&=&format=webp&width=280&height=498", 
                "rate": 0.2
            },
            { 
                "name": "Ghostly Rapier", 
                "grade": "rare", 
                "statBoost": { 
                    "strength": 2, 
                    "intelligence": 4, 
                    "ability": 0 
                }, 
                "imageUrl": "https://media.discordapp.net/attachments/1302888987987283998/1302889284763648010/IMG_9067.jpg?ex=6729c1b4&is=67287034&hm=3e621f3110c000ca21af317cffbf24fa12c95b77448e3a74b177735ab7df8560&=&format=webp&width=498&height=498", 
                "rate": 0.5 
            },
            { 
                "name": "Vampire's Fang", 
                "grade": "ultra rare", 
                "statBoost": { 
                    "strength": 5, 
                    "intelligence": 6, 
                    "ability": 1 
                }, 
                "imageUrl": "https://media.discordapp.net/attachments/1302888987987283998/1302889285070098483/IMG_9068.jpg?ex=6729c1b4&is=67287034&hm=1bb54ae58d0cd7244d81940b93314704dba0090ef4add441e08314b56d67a98b&=&format=webp&width=376&height=498", 
                "rate": 0.4 
            },
            { 
                "name": "Cursed Bow", 
                "grade": "epic", 
                "statBoost": { 
                    "strength": 8, 
                    "intelligence": 5, 
                    "ability": 2 
                }, 
                "imageUrl": "https://media.discordapp.net/attachments/1302888987987283998/1302889285350850570/IMG_9069.jpg?ex=6729c1b4&is=67287034&hm=86240f0a914aece275dfd6d519d2cb964e7a79ae54953978bd6b31b5a522e211&=&format=webp&width=498&height=498", 
                "rate": 0.1 
            },
            { 
                "name": "Zombie Hand", 
                "grade": "rare", 
                "statBoost": { 
                    "strength": 2, 
                    "intelligence": 2, 
                    "ability": 2 
                }, 
                "imageUrl": "https://media.discordapp.net/attachments/1302888987987283998/1302889285720084521/IMG_9070.jpg?ex=6729c1b4&is=67287034&hm=d74ae29909f79c66ed0dc33310dbc5a764226639b354112950d2b04766356457&=&format=webp&width=498&height=498", 
                "rate": 0.7 
            },
            { 
                "name": "Haunted Staff", 
                "grade": "ultra rare", 
                "statBoost": { 
                    "strength": 4, 
                    "intelligence": 8, 
                    "ability": 0 
                }, 
                "imageUrl": "https://media.discordapp.net/attachments/1302888987987283998/1302889286084853772/IMG_9071.jpg?ex=6729c1b4&is=67287034&hm=1498143c70ad1788c18cc018416c40d363f3b6888b97b4dccafb712ba134b005&=&format=webp&width=498&height=498", 
                "rate": 0.3 
            },
            { 
                "name": "Mummy's Curse", 
                "grade": "epic", 
                "statBoost": { 
                    "strength": 10, 
                    "intelligence": 5, 
                    "ability": 0 
                }, 
                "imageUrl": "https://media.discordapp.net/attachments/1302888987987283998/1302889286324191243/IMG_9072.jpg?ex=6729c1b4&is=67287034&hm=779b7212b175d5b47f0603555f8ce12b52fc85cf558a317d4408a089896ab84a&=&format=webp", 
                "rate": 0.1 
            },
            { 
                "name": "Bat Wings", 
                "grade": "rare", 
                "statBoost": { 
                    "strength": 0, 
                    "intelligence": 3, 
                    "ability": 3 
                }, 
                "imageUrl": "https://media.discordapp.net/attachments/1302888987987283998/1302889286584242249/IMG_9073.jpg?ex=6729c1b4&is=67287034&hm=9bb61bc50b655e77f3fe8fab6620b209073561cf8d8c23f3bebe0dab93454b5a&=&format=webp&width=498&height=498", 
                "rate": 0.6 
            },
            { 
                "name": "Wicked Axe", 
                "grade": "epic", 
                "statBoost": { 
                    "strength": 15, 
                    "intelligence": 0, 
                    "ability": 0 
                }, 
                "imageUrl": "https://media.discordapp.net/attachments/1302888987987283998/1302889286839828480/IMG_9074.jpg?ex=6729c1b4&is=67287034&hm=00956f532aa229d7f5cbdf478d6681340e36b5821543442d0493228f54ead5ab&=&format=webp&width=334&height=498", 
                "rate": 0.2
            },
            { 
                "name": "Spider Whip", 
                "grade": "ultra rare", 
                "statBoost": { 
                    "strength": 3, 
                    "intelligence": 7, 
                    "ability": 2 
                }, 
                "imageUrl": "https://media.discordapp.net/attachments/1302888987987283998/1302889287062130751/IMG_9075.jpg?ex=6729c1b4&is=67287034&hm=aba4192605f8149adcbdfe8fcf8fb35ceba54bc157fdf862a3fa08ca6366cc86&=&format=webp", 
                "rate": 0.4 
            },
            { 
                "name": "Creepy Claws", 
                "grade": "rare", 
                "statBoost": { 
                    "strength": 3, 
                    "intelligence": 3, 
                    "ability": 0 
                }, 
                "imageUrl": "https://media.discordapp.net/attachments/1302888987987283998/1302889287330562078/IMG_9076.jpg?ex=6729c1b4&is=67287034&hm=036ef7b47fe7a91981d159ea69b8c241f19b163e9e5add1d646cdb7663c3deec&=&format=webp", 
                "rate": 0.7 
            },
            { 
                "name": "Spectral Blade", 
                "grade": "epic", 
                "statBoost": { 
                    "strength": 13, 
                    "intelligence": 2, 
                    "ability": 0 
                }, 
                "imageUrl": "https://media.discordapp.net/attachments/1302888987987283998/1302889301733806090/IMG_9077.jpg?ex=6729c1b8&is=67287038&hm=86e7da657415df1d6cc21fdca17bb7c0b95cbc3e6bb08f63c4e3bb3a410cd203&=&format=webp&width=498&height=498", 
                "rate": 0.1 
            },
            { 
                "name": "Cauldron Staff", 
                "grade": "ultra rare", 
                "statBoost": { 
                    "strength": 4, 
                    "intelligence": 8, 
                    "ability": 0 
                }, 
                "imageUrl": "https://media.discordapp.net/attachments/1302888987987283998/1302889301973012521/IMG_9078.jpg?ex=6729c1b8&is=67287038&hm=ef31d41eb4ded9854449e424dd37c9c78a93d925e5ddcbaf3d61aed5e4da2263&=&format=webp&width=374&height=498", 
                "rate": 0.3 
            },
            { 
                "name": "Grave Digger's Shovel", 
                "grade": "epic", 
                "statBoost": { 
                    "strength": 12, 
                    "intelligence": 3, 
                    "ability": 0 
                }, 
                "imageUrl": "https://media.discordapp.net/attachments/1302888987987283998/1302889302258090065/IMG_9079.jpg?ex=6729c1b8&is=67287038&hm=c73a1fb7d8bae7a2cb973ff766be914e3a5f783dd04fe469fb04b3178bcb54ee&=&format=webp&width=336&height=498", 
                "rate": 0.1
            },
            { 
                "name": "Wraith's Sickle", 
                "grade": "rare", 
                "statBoost": { 
                    "strength": 2, 
                    "intelligence": 2, 
                    "ability": 2 
                }, 
                "imageUrl": "https://media.discordapp.net/attachments/1302888987987283998/1302889302576992308/IMG_9080.jpg?ex=6729c1b8&is=67287038&hm=6e0a7f0cbd2b403a1ef51fe00007e71e8d06cd362c6306c967765fcae75c4a11&=&format=webp&width=332&height=498", 
                "rate": 0.6 
            },
            { 
                "name": "Black Cat's Claw", 
                "grade": "ultra rare", 
                "statBoost": { 
                    "strength": 6, 
                    "intelligence": 4, 
                    "ability": 2 
                }, 
                "imageUrl": "https://media.discordapp.net/attachments/1302888987987283998/1302889303025778710/IMG_9081.jpg?ex=6729c1b8&is=67287038&hm=7ffb31cdaa2d2394668d7dd54efa28e931d8fa594a93d0bcc5ea425971ac34eb&=&format=webp", 
                "rate": 0.4 
            }

    
];
const totalRate = gachaPool.reduce((sum, weapon) => sum + weapon.rate, 0);
gachaPool.forEach(weapon => {
    weapon.normalizedRate = weapon.rate / totalRate;
});

// Helper function to pull a random weapon based on normalized rates
function pullRandomWeapon() {
    const roll = Math.random();
    let cumulativeRate = 0;

    for (const weapon of gachaPool) {
        cumulativeRate += weapon.normalizedRate;
        if (roll < cumulativeRate) {
            console.log(`You pulled: ${weapon.name} (${weapon.grade})`);
            return weapon;
        }
    }

    throw new Error("No weapon was selected.");
}

module.exports = { pullRandomWeapon };
